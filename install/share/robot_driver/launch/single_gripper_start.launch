<?xml version="1.0"?>
<launch>
    <!-- 设置Python路径 -->
    <env name="PYTHONPATH" value="$(find robot_driver)/scripts:$(env PYTHONPATH)" />
    
    <!-- 直接指定USB端口 -->
    <arg name="serial" default="/dev/ttyDeviceLeft" />
    <arg name="camera_resolutions" default="1600x1296" />
    <arg name="show_preview" default="true" />
    <arg name="video_0_main" default="/dev/left_video_0_main" />
    <arg name="video_0_sec" default="/dev/left_video_0_sec" />
    <arg name="video_1_main" default="/dev/left_video_1_main" />
    <arg name="video_1_sec" default="/dev/left_video_1_sec" />
    <arg name="video_2_main" default="/dev/left_video_2_main" />
    <arg name="video_2_sec" default="/dev/left_video_2_sec" />

    
    <node name="camera" pkg="robot_driver" type="camera_view_single.py" output="screen">
        <param name="resolutions" value="$(arg camera_resolutions)" />
        <param name="topic_base" value="camera" />
        <param name="show_preview" value="$(arg show_preview)" />
        <param name="usb_port" value="$(arg serial)" />
        <param name="camera_count" value="3" />
        <param name="video_0_main" value="$(arg video_0_main)" />
        <param name="video_0_sec" value="$(arg video_0_sec)" />
        <param name="video_1_main" value="$(arg video_2_main)" />
        <param name="video_1_sec" value="$(arg video_2_sec)" />
        <param name="video_2_main" value="$(arg video_1_main)" />
        <param name="video_2_sec" value="$(arg video_1_sec)" />
    </node>
    
    <node name="das_node" pkg="robot_driver" type="databus_single.py" output="screen" launch-prefix="bash -c 'sleep 3; $0 $@' ">
        <env name="PYTHONPATH" value="$(find robot_driver)/scripts:$(env PYTHONPATH)" />
        <param name="serial_port" value="$(arg serial)" />
        <param name="topic_left_tactile" value="tactile/left" />
        <param name="topic_right_tactile" value="tactile/right" />
        <param name="topic_encoder" value="encoder" />
        <param name="topic_target_distance" value="target_distance" />
    </node>
    
</launch>